package Files;

import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Scanner;

import SimonDiceV3.Jugador;

public class CustomReadFile extends FileReader implements ICustomReadFile {
	private ArrayList<Jugador> players2;
	private Scanner scn;

	public CustomReadFile(String _Path) throws IOException {
		super("src/Data1/best_player.txt");
		players2 =  new ArrayList<Jugador>();
		this.scn = new Scanner(this);
	}

	@Override
	public void closeReadFIle() {
		// TODO Auto-generated method stub
		try {
			this.close();
		} catch (IOException e) {
			e.printStackTrace();
			System.out.println("Se ha producido una exepci√≥n en el metodo closeReadFile de la clase CustomReadFile" + e);
		}
	}

	@Override
	public ArrayList<Jugador> leerJugadores() {
		try (FileReader lectura = new FileReader("src/Data1/best_player.txt")) {
	        while (this.scn.hasNextLine()) {
	        	String[] parts = scn.nextLine().split(" ");

	            String name = parts[0];
	            int score = Integer.parseInt(parts[1]);
	            
	            Jugador player = new Jugador(name);
	            player.setScore(score);
	            players2.add(player);
	        }
	    } catch (IOException e) {
	        e.printStackTrace();
	        System.out.println("Exepcion encontrada en el metodo leerJugadores() en la clase CustomReadFile");
	    }
	    return players2;    
	}

}
